[vendor]
name = Snapmaker
config_version = 0.1.1
config_update_url = https://raw.githubusercontent.com/macdylan/3dp-configs/main/Snapmaker-J1.ini

[printer_model:J1]
name = Snapmaker J1
variants = 0.4
technology = FFF
family = IDEX
bed_texture = J1_texture.svg


[filament:*PETG*]
compatible_printers = 
compatible_printers_condition = printer_notes=~/.*PRINTER_MODEL_J1.*/
cooling = 1
disable_fan_first_layers = 1
extrusion_multiplier = 0.95
fan_always_on = 1
fan_below_layer_time = 65
filament_colour = #FFFF0A
filament_density = 1.24
filament_deretract_speed = nil
filament_diameter = 1.75
filament_retract_before_travel = nil
filament_retract_lift = nil
filament_retract_speed = 40
filament_soluble = 0
filament_type = PET
filament_wipe = nil
full_fan_speed_layer = 0
max_fan_speed = 65
min_print_speed = 15
slowdown_below_layer_time = 5

[filament:*PLA*]
bridge_fan_speed = 100
compatible_printers = 
compatible_printers_condition = printer_notes=~/.*PRINTER_MODEL_J1.*/
cooling = 1
disable_fan_first_layers = 1
extrusion_multiplier = 1
fan_always_on = 1
fan_below_layer_time = 60
filament_density = 1.24
filament_deretract_speed = nil
filament_diameter = 1.75
filament_max_volumetric_speed = 20
filament_retract_lift = nil
filament_retract_speed = nil
filament_soluble = 0
filament_type = PLA
filament_wipe = nil
full_fan_speed_layer = 0
max_fan_speed = 100

[filament:PETG - BING @J1]
bed_temperature = 60
bridge_fan_speed = 100
filament_max_volumetric_speed = 9
filament_notes = BRAND_BING
filament_retract_length = 2.8
first_layer_bed_temperature = 60
first_layer_temperature = 220
inherits = *PETG* 
min_fan_speed = 0
temperature = 220


[filament:PETG - Generic @J1]
bed_temperature = 65
bridge_fan_speed = 75
filament_max_volumetric_speed = 8.5
filament_notes = "BRAND_POLYMAKER_LITE\nBRAND_LANDU_TRANS\nBRAND_TINMORRY\n"
filament_retract_length = 2.4
first_layer_bed_temperature = 65
first_layer_temperature = 240
inherits = *PETG* 
min_fan_speed = 15
temperature = 240


[filament:PLA-CF - LANBO @J1]
bed_temperature = 75
disable_fan_first_layers = 2
extrusion_multiplier = 0.94
fan_below_layer_time = 12
filament_colour = #000000
filament_max_volumetric_speed = 22
filament_notes = BRAND_LANBO
filament_retract_before_travel = 7
filament_retract_length = nil
first_layer_bed_temperature = 75
first_layer_temperature = 220
inherits = *PLA* 
min_fan_speed = 100
min_print_speed = 20
slowdown_below_layer_time = 4
temperature = 220


[filament:PLA - FilamentWorks @J1]
bed_temperature = 60
filament_colour = #333333
filament_max_volumetric_speed = 17
filament_notes = BRAND_FILAMENTWORKS
filament_retract_before_travel = nil
filament_retract_length = 1
first_layer_bed_temperature = 60
first_layer_temperature = 215
inherits = *PLA* 
min_fan_speed = 80
min_print_speed = 15
slowdown_below_layer_time = 15
temperature = 215


[filament:PLA - Generic @J1]
bed_temperature = 55
filament_colour = #808080
filament_notes = "BRAND_ESUN\nBRAND_JAYO_META"
filament_retract_before_travel = nil
filament_retract_length = nil
first_layer_bed_temperature = 55
first_layer_temperature = 220
inherits = *PLA* 
min_fan_speed = 80
min_print_speed = 20
slowdown_below_layer_time = 4
temperature = 220


[filament:PLA - PolyMax @J1]
bed_temperature = 60
disable_fan_first_layers = 2
fan_below_layer_time = 12
filament_colour = #29B2B2
filament_max_volumetric_speed = 0
filament_notes = "BRAND_POLYMAKER\nBRAND_POLYMAX"
filament_retract_before_travel = nil
filament_retract_length = nil
first_layer_bed_temperature = 65
first_layer_temperature = 230
inherits = *PLA* 
min_fan_speed = 100
min_print_speed = 20
slowdown_below_layer_time = 4
temperature = 225


[filament:PLA - Snapmaker @J1]
bed_temperature = 60
filament_colour = #29B2B2
filament_notes = "BRAND_SNAPMAKER\n"
filament_retract_before_travel = 7
filament_retract_length = 1
first_layer_bed_temperature = 60
first_layer_temperature = 210
inherits = *PLA* 
min_fan_speed = 100
min_print_speed = 15
slowdown_below_layer_time = 15
temperature = 205


[filament:PLA - Tinmorry @J1]
bed_temperature = 60
filament_colour = #333333
filament_max_volumetric_speed = 9
filament_notes = BRAND_TINMORRY
filament_retract_before_travel = nil
filament_retract_length = nil
first_layer_bed_temperature = 60
first_layer_temperature = 210
inherits = *PLA* 
min_fan_speed = 80
min_print_speed = 15
slowdown_below_layer_time = 15
temperature = 210


[filament:PLA Silk - BING @J1]
bed_temperature = 55
disable_fan_first_layers = 2
fan_below_layer_time = 12
filament_colour = #FDAF2F
filament_density = 1.25
filament_max_volumetric_speed = 14
filament_notes = BRAND_BING
filament_retract_before_travel = nil
filament_retract_length = 0.5
first_layer_bed_temperature = 55
first_layer_temperature = 220
inherits = *PLA* 
min_fan_speed = 100
min_print_speed = 20
slowdown_below_layer_time = 8
temperature = 220


[print:*common*]
avoid_crossing_perimeters = 1
bottom_fill_pattern = monotonic
bottom_solid_min_thickness = 0
bridge_angle = 0
brim_type = outer_only
brim_width = 0
compatible_printers_condition = printer_notes=~/.*PRINTER_MODEL_J1.*/ and nozzle_diameter[0]==0.4
complete_objects = 0
dont_support_bridges = 1
external_perimeter_extrusion_width = 0.42
external_perimeters_first = 0
extrusion_width = 0.42
fill_angle = 45
fill_pattern = grid
gcode_comments = 0
gcode_substitutions = "^(G4 S0.*)";"; ${1} <--- remove";r;"conflict with M2000";"(^; Tool Change .+ >>>)\\n(M106 S.+)\\n(T[0-9])";"${1}\\n${3}\\n${2} ; fixed";r;
infill_anchor_max = 50
infill_extruder = 1
infill_first = 0
infill_only_where_needed = 0
interface_shells = 0
max_volumetric_extrusion_rate_slope_negative = 0
max_volumetric_extrusion_rate_slope_positive = 0
max_volumetric_speed = 0
notes = 
ooze_prevention = 0
output_filename_format = {input_filename_base}_{layer_height}mm_{filament_type[0]}+{filament_type[1]}_{print_time}.gcode
perimeter_extruder = 1
perimeter_generator = arachne
raft_layers = 0
resolution = 0
seam_position = aligned
single_extruder_multi_material_priming = 1
skirt_distance = 3
skirt_height = 1
solid_infill_below_area = 0
solid_infill_every_layers = 0
solid_infill_extruder = 1
solid_infill_extrusion_width = 0.42
spiral_vase = 0
support_material = 0
support_material_angle = 0
support_material_auto = 1
support_material_buildplate_only = 1
support_material_enforce_layers = 0
support_material_interface_contact_loops = 0
support_material_pattern = rectilinear
support_material_style = snug
support_material_with_sheath = 1
top_infill_extrusion_width = 0.42
wipe_tower = 0
wipe_tower_bridging = 10
xy_size_compensation = 0


[print:0.12mm FINE @J1 (Dylan)]
bottom_solid_layers = 5
bridge_acceleration = 400
bridge_flow_ratio = 1
bridge_speed = 0
default_acceleration = 6000
elefant_foot_compensation = 0.12
external_perimeter_acceleration = 600
external_perimeter_speed = 0
extra_perimeters = 1
extruder_clearance_height = 200
extruder_clearance_radius = 80
fill_density = 15%
first_layer_acceleration = 300
first_layer_extrusion_width = 0.42
first_layer_height = 0.2
first_layer_speed = 65
gap_fill_speed = 0
infill_acceleration = 6000
infill_every_layers = 2
infill_extrusion_width = 0.5
infill_overlap = 20%
infill_speed = 0
inherits = *common* 
layer_height = 0.12
max_print_speed = 85
min_skirt_length = 15
only_retract_when_crossing_perimeters = 0
overhangs = 0
perimeter_acceleration = 5000
perimeter_extrusion_width = 0.42
perimeter_speed = 0
perimeters = 2
raft_first_layer_density = 60%
skirts = 2
small_perimeter_speed = 0
solid_infill_acceleration = 6000
solid_infill_speed = 0
standby_temperature_delta = -7
support_material_contact_distance = 0
support_material_extruder = 0
support_material_extrusion_width = 0.42
support_material_interface_extruder = 2
support_material_interface_layers = 2
support_material_interface_spacing = 0
support_material_interface_speed = 10
support_material_spacing = 3
support_material_speed = 0
support_material_synchronize_layers = 1
support_material_threshold = 48
support_material_xy_spacing = 40%
thin_walls = 0
top_fill_pattern = monotoniclines
top_solid_infill_speed = 0
top_solid_layers = 5
top_solid_min_thickness = 0.6
travel_speed = 210

[print:0.20mm NORMAL(Stealth) @J1 (Dylan)]
bottom_solid_layers = 3
bridge_acceleration = 400
bridge_flow_ratio = 1
bridge_speed = 0
default_acceleration = 6000
elefant_foot_compensation = 0.1
external_perimeter_acceleration = 1000
external_perimeter_speed = 0
extra_perimeters = 1
extruder_clearance_height = 200
extruder_clearance_radius = 80
fill_density = 15%
first_layer_acceleration = 300
first_layer_extrusion_width = 0.5
first_layer_height = 0.2
first_layer_speed = 70
gap_fill_speed = 0
infill_acceleration = 6000
infill_every_layers = 1
infill_extrusion_width = 0.5
infill_overlap = 20%
infill_speed = 0
inherits = *common* 
layer_height = 0.2
max_print_speed = 100
min_skirt_length = 10
only_retract_when_crossing_perimeters = 1
overhangs = 0
perimeter_acceleration = 4000
perimeter_extrusion_width = 0.5
perimeter_speed = 0
perimeters = 3
raft_first_layer_density = 90%
skirts = 1
small_perimeter_speed = 0
solid_infill_acceleration = 6000
solid_infill_speed = 0
standby_temperature_delta = -5
support_material_contact_distance = 0
support_material_extruder = 0
support_material_extrusion_width = 0.38
support_material_interface_extruder = 0
support_material_interface_layers = 2
support_material_interface_spacing = 0.15
support_material_interface_speed = 50
support_material_spacing = 2
support_material_speed = 0
support_material_synchronize_layers = 1
support_material_threshold = 45
support_material_xy_spacing = 60%
thin_walls = 0
top_fill_pattern = monotonic
top_solid_infill_speed = 0
top_solid_layers = 3
top_solid_min_thickness = 0.6
travel_speed = 256

[print:0.20mm NORMAL @J1 (Dylan)]
bottom_solid_layers = 3
bridge_acceleration = 500
bridge_flow_ratio = 0.97
bridge_speed = 65
default_acceleration = 10000
elefant_foot_compensation = 0
external_perimeter_acceleration = 2000
external_perimeter_speed = 75
extra_perimeters = 1
extruder_clearance_height = 200
extruder_clearance_radius = 80
fill_density = 13%
first_layer_acceleration = 500
first_layer_extrusion_width = 0.45
first_layer_height = 0.2
first_layer_speed = 70
gap_fill_speed = 160
infill_acceleration = 15000
infill_every_layers = 1
infill_extrusion_width = 0.45
infill_overlap = 25%
infill_speed = 200
inherits = *common* 
layer_height = 0.2
max_print_speed = 250
min_skirt_length = 10
only_retract_when_crossing_perimeters = 1
overhangs = 0
perimeter_acceleration = 4000
perimeter_extrusion_width = 0.45
perimeter_speed = 160
perimeters = 3
raft_first_layer_density = 90%
skirts = 2
small_perimeter_speed = 35
solid_infill_acceleration = 10000
solid_infill_speed = 160
standby_temperature_delta = -5
support_material_contact_distance = 0
support_material_extruder = 0
support_material_extrusion_width = 0.38
support_material_interface_extruder = 0
support_material_interface_layers = 2
support_material_interface_spacing = 0.15
support_material_interface_speed = 50
support_material_spacing = 2
support_material_speed = 65
support_material_synchronize_layers = 1
support_material_threshold = 45
support_material_xy_spacing = 60%
thin_walls = 0
top_fill_pattern = monotoniclines
top_solid_infill_speed = 160
top_solid_layers = 4
top_solid_min_thickness = 0.8
travel_speed = 300

[print:0.20mm Strength @J1 (Dylan)]
bottom_solid_layers = 3
bridge_acceleration = 500
bridge_flow_ratio = 0.97
bridge_speed = 65
default_acceleration = 10000
elefant_foot_compensation = 0.15
external_perimeter_acceleration = 2000
external_perimeter_speed = 70
extra_perimeters = 1
extruder_clearance_height = 200
extruder_clearance_radius = 80
fill_density = 25%
first_layer_acceleration = 500
first_layer_extrusion_width = 0.45
first_layer_height = 0.2
first_layer_speed = 70
gap_fill_speed = 160
infill_acceleration = 15000
infill_every_layers = 1
infill_extrusion_width = 0.45
infill_overlap = 25%
infill_speed = 200
inherits = *common* 
layer_height = 0.2
max_print_speed = 250
min_skirt_length = 10
only_retract_when_crossing_perimeters = 1
overhangs = 1
perimeter_acceleration = 4000
perimeter_extrusion_width = 0.45
perimeter_speed = 160
perimeters = 5
raft_first_layer_density = 90%
skirts = 2
small_perimeter_speed = 35
solid_infill_acceleration = 10000
solid_infill_speed = 160
standby_temperature_delta = -5
support_material_contact_distance = 0
support_material_extruder = 1
support_material_extrusion_width = 0.38
support_material_interface_extruder = 1
support_material_interface_layers = 2
support_material_interface_spacing = 0.15
support_material_interface_speed = 30
support_material_spacing = 2
support_material_speed = 80
support_material_synchronize_layers = 1
support_material_threshold = 45
support_material_xy_spacing = 60%
thin_walls = 0
top_fill_pattern = monotoniclines
top_solid_infill_speed = 160
top_solid_layers = 3
top_solid_min_thickness = 0.6
travel_speed = 300

[print:0.30mm FAST @J1 (Dylan)]
bottom_solid_layers = 3
bridge_acceleration = 400
bridge_flow_ratio = 0.97
bridge_speed = 50
default_acceleration = 20000
elefant_foot_compensation = 0
external_perimeter_acceleration = 800
external_perimeter_speed = 110
extra_perimeters = 0
extruder_clearance_height = 100
extruder_clearance_radius = 75
fill_density = 13%
first_layer_acceleration = 500
first_layer_extrusion_width = 0.5
first_layer_height = 0.3
first_layer_speed = 70
gap_fill_speed = 160
infill_acceleration = 20000
infill_every_layers = 1
infill_extrusion_width = 0.5
infill_overlap = 20%
infill_speed = 160
inherits = *common* 
layer_height = 0.3
max_print_speed = 200
min_skirt_length = 10
only_retract_when_crossing_perimeters = 0
overhangs = 1
perimeter_acceleration = 6000
perimeter_extrusion_width = 0.5
perimeter_speed = 120
perimeters = 3
raft_first_layer_density = 60%
skirts = 2
small_perimeter_speed = 40
solid_infill_acceleration = 10000
solid_infill_speed = 160
standby_temperature_delta = -7
support_material_contact_distance = 0.16
support_material_extruder = 0
support_material_extrusion_width = 0.38
support_material_interface_extruder = 0
support_material_interface_layers = 3
support_material_interface_spacing = 0.2
support_material_interface_speed = 100%
support_material_spacing = 2
support_material_speed = 65
support_material_synchronize_layers = 0
support_material_threshold = 30
support_material_xy_spacing = 60%
thin_walls = 1
top_fill_pattern = monotoniclines
top_solid_infill_speed = 160
top_solid_layers = 3
top_solid_min_thickness = 0
travel_speed = 300

[printer:Snapmaker J1 0.4 (Dylan)]
bed_shape = 0x0,324x0,324x200,0x200
before_layer_gcode = ; Before Layer Change >>>\n; ----- total_toolchanges: [total_toolchanges]\nG92 E0\n; <<< Before Layer Change\n
between_objects_gcode = ; Between Objects >>>
color_change_gcode = 
default_filament_profile = "Generic PLA @Snapmaker"
default_print_profile = 
deretract_speed = 30,30
end_gcode = ; End G-code >>>\n;***** Update   : 20230314\nM140 S0 ;turn off bed\n\nG92 E0                          ;zero the extruder\n;G1 E-[filament_retract_length]\nG1 Z{max_layer_z + 0.5} F1000   ;lift z a little\n\n{if is_extruder_used[0]}T0\nG0 X-20 F12000   ;park T0\n{endif}\n{if is_extruder_used[1]}T1\nG0 X340 F12000   ;park T1\n{endif}\nG1 Y0 F3000         ;move to safe pos\n\n{if 1==1} ;clean the nozzle\n{if is_extruder_used[0]}T0\nG0 X-5  F5000\nG0 X-20 F3000\nG0 X-5  F5000\nG0 X-20 F3000\n{endif}\n{if is_extruder_used[1]}T1\nG0 X332 F5000\nG0 X340 F3000\nG0 X332 F5000\nG0 X340 F3000\n{endif}\n{endif}\n\n{if is_extruder_used[0]}M104 S0 T0 ;turn off T0\nM106 P0 S0 ;turn off fan{endif}\n{if is_extruder_used[1]}M104 S0 T1 ;turn off T1\nM106 P1 S0 ;turn off fan{endif}\n\nG28 Z F120  ;home Z\n\nM220 S100 ;reset feedrate\nM84       ;disable motors\nM82       ;reset absolute extrusion mode\n; <<< End G-code\n;\n; DON'T REMOVE these lines if you're using the smfix (https://github.com/macdylan/Snapmaker2Slic3rPostProcessor)\n; min_x = [first_layer_print_min_0]\n; min_y = [first_layer_print_min_1]\n; max_x = [first_layer_print_max_0]\n; max_y = [first_layer_print_max_1]\n; max_z = [max_layer_z]\n;\n
extruder_colour = #FFFFFF;#FD8008
extruder_offset = 0x0,0x0
gcode_flavor = marlin
inherits = 
layer_gcode = ; After Layer Change >>>\n; ----- current_extruder: [current_extruder]\n; ----- initial_extruder: [initial_extruder]\n{if layer_num == 0}\n;M105 ;report temperature\nM109 S[first_layer_temperature] C3 W1 ;wait for nozzle at first layer\n{endif}\nG92 E0\n; <<< After Layer Change\n
machine_limits_usage = time_estimate_only
machine_max_acceleration_e = 5000
machine_max_acceleration_extruding = 3000,2500
machine_max_acceleration_retracting = 1000
machine_max_acceleration_travel = 5000
machine_max_acceleration_x = 10000,6000
machine_max_acceleration_y = 10000,6000
machine_max_acceleration_z = 500
machine_max_feedrate_e = 40
machine_max_feedrate_x = 350,240
machine_max_feedrate_y = 350,240
machine_max_feedrate_z = 10
machine_max_jerk_e = 2.5
machine_max_jerk_x = 8,8
machine_max_jerk_y = 8,8
machine_max_jerk_z = 3
max_layer_height = 0.28,0.28
max_print_height = 200
min_layer_height = 0.08,0.08
nozzle_diameter = 0.4,0.4
parking_pos_retraction = 92
pause_print_gcode = M600
printer_model = J1
printer_notes = ;--- Do not remove the following keywords! \n;--- These keywords are used in the "compatible printer" condition of the print and filament profiles to link the particular print and filament profiles to this printer profile.\nPRINTER_VENDOR_SNAPMAKER\nPRINTER_MODEL_J1\nPRINTER_GCODE_V1\n
printer_technology = FFF
printer_variant = 0.4
printer_vendor = Snapmaker
remaining_times = 0
retract_before_travel = 1,1
retract_before_wipe = 70%,70%
retract_layer_change = 0,0
retract_length = 0.8,0.8
retract_length_toolchange = 2,2
retract_lift = 0.4,0.4
retract_lift_above = 0,0
retract_lift_below = 0,0
retract_restart_extra = 0,0
retract_restart_extra_toolchange = 0,0
retract_speed = 35,35
silent_mode = 0
single_extruder_multi_material = 0
start_gcode = ;***** Snapmaker J1\n;***** Update   : 20230314\n;***** Printer  : [printer_preset]\n;***** Physical : [physical_printer_preset]\n;***** Profile  : [print_preset]\n;// min_x:-13.00 max_x:338.452087\n; ----- initial_extruder: [initial_extruder]\n; ----- has_wipe_tower: [has_wipe_tower]\n; ----- total_toolchanges: [total_toolchanges]\n; ----- T0 is used: {is_extruder_used[0]}\n; ----- T1 is used: {is_extruder_used[1]}\n{if physical_printer_preset=~/.*IDEXDuplication.*/}\nM605 S2 X162 R0 ;IDEX Duplication\n{elsif physical_printer_preset=~/.*IDEXMirror.*/}\nM605 S3 ;IDEX Mirror\n{elsif physical_printer_preset=~/.*IDEXBackup.*/}\nM605 S4 ;IDEX Backup\n{endif}\nM82                  ;absolute extrusion mode\n\nT[initial_extruder]                   ;switch to initial extruder\nM140 S[first_layer_bed_temperature]   ;start warming bed\n{if is_extruder_used[0]}M104 S{if is_nil(idle_temperature[0])}{temperature[0]}{else}{idle_temperature[0]}{endif} T0  ;preheat T0{endif}\n{if is_extruder_used[1]}M104 S{if is_nil(idle_temperature[1])}{temperature[1]}{else}{idle_temperature[1]}{endif} T1  ;preheat T1{endif}\n\nM201 X[machine_max_acceleration_x] Y[machine_max_acceleration_y] Z[machine_max_acceleration_z] E[machine_max_acceleration_e]\nM203 X[machine_max_feedrate_x] Y[machine_max_feedrate_y] Z[machine_max_feedrate_z] E[machine_max_feedrate_e]\nM204 S[machine_max_acceleration_extruding] T[machine_max_acceleration_travel] P[machine_max_acceleration_extruding] R[machine_max_acceleration_retracting]\nM205 V8\nG28           ;home all axes\nG1 Z10.0 F350 ;z raise\n\nM190 S[first_layer_bed_temperature]    ;wait for bed temperature\nM109 S[first_layer_temperature] C3 W2  ;wait for nozzle\n\n{if 1==1};flash the LED\nM355 S1 P64\nG4 P100\nM355 S1 P128\nG4 P100\nM355 S1 P64\nG4 P200\nM355 S1 P255\nG4 P100\n{endif}\n\n{if 1==1}\nG1 Z0.8 F500\n\n{if is_extruder_used[0]}T0\nG1 Z0.5 X0 Y-0.5 F6000 ;move to unsed front edge\nG92 E0                 ;zero extruder\nG1 X80 E16 F1200       ;deposit extrusion line\nG1 Z5 F6000            ;lift\nG92 E0\n{if initial_extruder != 0}\nM104 S{if is_nil(idle_temperature[0])}{temperature[0]-standby_temperature_delta}{else}{idle_temperature[0]}{endif} ;standby\nG1 X-13 F6000\nG92 E0\nM106 P0 S0 ;fan off\n{endif}\n{endif}\n\n{if is_extruder_used[1]}T1\nG1 Z0.5 X320 Y-0.5 F6000 ;move to unsed front edge\nG92 E0                   ;zero extruder\nG1 X240 E16 F1200        ;deposit extrusion line\nG1 Z5 F6000              ;lift\nG92 E0\n{if initial_extruder != 1}\nM104 S{if is_nil(idle_temperature[1])}{temperature[1]-standby_temperature_delta}{else}{idle_temperature[1]}{endif} ;standby\nG1 X338 F6000\nM106 P1 S0 ;fan off\n{endif}\n{endif}\n\nT{initial_extruder}    ;init\n{endif}\nG92 E0 ;zero extruder\n;===== ready\n
thumbnails = 300x300
thumbnails_format = PNG
toolchange_gcode = ; <<< Tool Change T[previous_extruder]\n;***** Update   : 20230115\n; ----- current_extruder: [current_extruder]\n; ----- previous_extruder: [previous_extruder]\n; ----- next_extruder: [next_extruder]\n; ----- layer_num: [layer_num]\n; ----- standby_temperature_delta: [standby_temperature_delta]\n; ----- idle_temperature: [idle_temperature]\n; ----- current temperature: [temperature[current_extruder]]\n; ----- layer_z: [layer_z]\n; ----- max_layer_z: [max_layer_z]\n; ----- total_toolchanges: [total_toolchanges]\n{if next_extruder != current_extruder }\nM104 S{if is_nil(idle_temperature[current_extruder])}{temperature[current_extruder]-standby_temperature_delta}{else}{idle_temperature[current_extruder]}{endif} ;standby\n\n; Tool Change T[next_extruder] >>>\nT{next_extruder}\nM106 S0 P{previous_extruder}\nM2000 S200 V250 A6000 ;quick change extruder\nM109 S{if layer_num<1}[first_layer_temperature]{else}[temperature]{endif} C2 W1 ;wait T{next_extruder}\n\n{if layer_z <= (first_layer_height + 0.001)}\nM204 S[first_layer_acceleration] ;first layer accel\n{elsif default_acceleration > 0}\nM204 S[default_acceleration] ;default accel\n{endif}\n{endif}
use_firmware_retraction = 0
use_relative_e_distances = 1
use_volumetric_e = 0
variable_layer_height = 1


